---
title: "가상 메모리"
categories: OS
---

## Contiguous Memory Allocation(연속 메모리 할당)
![]({{site.url}}/images/ContiguousMemoryAllocation.png)
- 연속적인 메모리 공간을 할당하는 방식
- 그림과 같이 A는 A의 크기만큼 메모리 주소를 할당받아 연속적으로 배치되고 나머지 프로세스들도 A처럼 연속적으로 할당

### Swapping(스와핑)
![]({{site.url}}/images/Swap.png)
- 메모리에 적재된 프로세스 중에서 현재 실행되지 않는 프로세스가 있을 수 있음
    - 입출력 작업이 완료되는것을 기다리기 위해 대기 상태가 된 프로세스
    - 오랫동안 사용되지 않은 프로세스
- 이러한 프로세스들은 임시로 보조기억장치에 보내고 그렇게 해서 생긴 메모리상의 빈 공간에 또 다른 프로세스를 적재하는 방식
- Swapping을 이용하면 실제 메모리 크기보다 큰 경우에도 프로세스들을 동시에 실행할 수 있음
- Swap Space: 이때 프로세스들이 쫒겨나는 보조기억장치의 일부 영역
- Swap-out: 현재 실행되지 않는 프로세스가 메모리에서 스왑 영역으로 옮겨지는 것
- Swap-in: 반대로 스왑 영역에서 프로세스가 다시 메모리로 옮겨지는 것

## Memory Allocation(메모리 할당)
![]({{site.url}}/images/MemoryAllocation.png)
### First Fit(최초 적합)
![]({{site.url}}/images/FirstFit.png)
- OS가 메모리 내의 빈 공간을 순서대로 검색하다가 적재할 수 있는 공간을 발견하면 그 공간에 프로세스를 배치하는 방식
- 적재할 수 있는 공간을 발견 즉시 할당하는 방식으로 검색을 최소화하고 빠른 할당이 가능
### Best Fit(최적 적합)
![]({{site.url}}/images/BestFit.png)
- OS가 빈 공간을 전부 검색 후에 프로세스가 적재할 수 있는 공간 중에서 가장 작은 공간에 배치하는 방식
### Worst Fit(최악 적합)
![]({{site.url}}/images/WorstFit.png)
- OS가 빈 공간을 전부 검색 후에 프로세스가 적재할 수 있는 공간 중에서 가장 큰 공간에 배치하는 방식 

## External Fragmentation(외부 단편화)
![]({{site.url}}/images/ExternalFragmentation.png)
- 프로세스들이 실행되고 종료되기를 반복하며 메모리 사이 사이에 빈 공간들이 생김
- 전체의 빈 공간의 양보다 적은 메모리양만 적재할 수도 있게됨(메모리 낭비)
- 그림과 같이 메모리 사이사이에 빈 공간이 생길경우 총 빈공간은 50MB지만 50MB의 프로세스는 적재할 수 없음

### Compaction(압축)
![]({{site.url}}/images/Compaction.png)
- 메모리 조각 모음, 여기저기 흩어져 있는 빈 공간들을 하나로 모으는 방식
- 메모리 내에 저장된 프로세스를 재배치시켜서 여기저기 흩어져 있는 빈 공간들을 하나의 큰 빈 공간으로 만드는 방법
- 작은 빈 공간을 하나로 모으는 동안 시스템은 하던 일을 중지해야 한다는 단점이 있음
- 메모리에 있는 내용을 옮기는 작업은 많은 오버헤드를 야기함


## Reference
[혼자 공부하는 컴퓨터구조]()

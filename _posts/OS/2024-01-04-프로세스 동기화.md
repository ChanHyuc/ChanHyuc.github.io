---
title: "프로세스 동기화"
categories: OS
---
## Synchronization(동기화)
- 프로세스, 스레드들 사이의 수행 시기를 맞추는 것
- 동시다발적으로 실행되는 프로세스들은 서로 협력하며 영향을 주고 받음
    - 메모장을 입력하면 화면에 출력하는 프로세스, 맞춤법 검사를 하는 프로세스 등이 서로 협력하면서 실행됨
    - 이렇게 협력하여 실행되는 프로세스들은 실행 순서와 자원의 일관성을 보장해야 하기에 반드시 동기화가 필요함

## 실행 순서 제어를 위한 동기화
- 프로세스를 올바른 순서대로 실행
    - 값을 저장하는 프로세스 A와 저장한 값을 읽는 프로세스 B가 있다고 가정
    - 두 프로세스는 순서가 바뀌어서는 안되고 A -> B 순으로 실행이 되야함
    - 저장하는 프로세스 A가 실행되고 끝나기전에 프로세스 B가 실행된다면 부분적으로만 저장이 되는 문제가 발생하기 때문 

## Mutual Exclusion(상호 배제)를 위한 동기화
### Shared Resource(공유 자원)
- 동시에 접근해서는 안되는 자원
- 전역 변수가 될 수도 있고, 입출력장치나 보조기억장치, 파일이 될 수도 있음
- Mutual Exclusion(상호 배제): 동시에 접근해서는 안 되는 자원에 하나의 프로세스만 접근하게 하는 알고리즘

### Critical Section(임계 구역)
- 동시에 실행하면 문제가 발생하는 자원에 접근하는 코드 영역
- 두 개 이상의 프로세스가 임계 구역에 진입하고자 하면 둘 중 하나는 대기해야 함
- Progress(진행): 임계 구역에 어떤 프로세스도 진입하지 않았다면 임계 구역에 진입하고자 하는 프로세스는 들어갈 수 있어야 함
- Bounded Waiting(유한 대기): 한 프로세스가 임계 구역에 들어오기 위해 무한정 대기해서는 안됨
- Race Condition(레이스 컨디션): 임계 구역에서 잘못된 실행으로 여러 프로세스가 동시 다발적으로 실행되는 현상

## Mutex Lock(뮤텍스 락)
- 임계 구역을 잠금으로써 프로세스 간의 상호 배제
- lock: 프로세스들이 공유하는 전역 변수, 자물쇠 역할을 함

### acquire 함수
- 프로세스가 임계 구역에 진입하기 전에 호출하는 함수
- 임계 구역이 잠겨 있다면(lock = true) 잠김이 풀릴 때(lock = false) 까지 임계 구역을 반복적으로 확인함
    - Busy Wait(바쁜 대기): 반복적으로 확인해 보는 방식
- 임계 구역이 열려 있다면(lock = false) 잠그는(lock = true) 함수

### release 함수
- 임계 구역에서의 작업이 끝나고 호출하는 함수
- 현재 잠긴 임계 구역을 열어주는(lock = false) 함수

## Semaphore(세마포)
- 하나의 공유 자원에 접근하는 뮤텍스 락과 달리, 공유 자원이 여러 개 있는 임계 구역 문제도 해결할 수 있는 동기화 도구

## Moniter
- **조건 변수**를 이용하여 세마포에 비해 사용자가 사용하기 편리한 동기화 도구로

## Reference
[혼자 공부하는 컴퓨터구조]()

---
title: "운영체제"
categories: OS
---
## OperatingSystem(OS, 운영체제)
- 실행할 프로그램에 필요한 자원을 할당하고 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램
- 운영체제도 프로그램이기 때문에 메모리에 적재되어야 함
- 하지만 특별한 프로그램이기 때문에 항상 컴퓨터가 부팅될 때 메모리 내 Kernel Space(커널 영역)이라는 공간에 적재되 실행
- 커널 영역을 제외한 나머지 영역을 User Space(사용자 영역)
- 운영체제는 실행할 프로그램을 메모리에 적재하고 더 이상 실행하지 않는 프로그램을 메모리에서 삭제함
- 응용프로그램이 올바르게 실행되도록 관리함 지속적으로 메모리 자원을 관리함
- 운영체제가 없다면 하드웨어를 조작하는 코드 까지 개발자가 모두 직접 작성해야함
- 실제 접하게 되는 컴퓨터의 대다수의 오류 메시지의 근원은 운영체제이므로 문제해결에 도움이 됨

![]({{site.url}}/images/Kernel.png)

## Kernel
- 자원에 접근하고 조작하는 기능, 프로그램이 안전하게 실행되게 하는 기능, 운영체제의 핵심 서비스를 담당
- 운영체제가 설치된 모든 기기에는 Kernel이 있음 (마치 사람의 심장과도 같음)
- 어떤 커널을 사용하는지에 따라 실행하고 개발하는 프로그램이 하드웨어을 이용하는 양상이 달라지고 컴퓨터 전체 성능도 달라질 수 있음
- UI(User Interface, 사용자 인터페이스): 커널에 포함되지 않는 서비스이며 사용자가 컴퓨터와 상호작용할 수 있는 통로
- 사용자 인터페이스 종류로는 GUI(Graphical User Interface)와 CLI(Command Line Interface)가 있음

## Dual Mode(이중 모드)
- CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식
- CPU는 사용자 모드인지 커널 모드인지 플래그 레지스터 속 슈퍼바이저 플래그를 통해 알 수 있음
- 운영체제는 응용 프로그램이 하드웨어 자원(CPU, 메모리, HDD)을 사용하려하면 오직 자신을 통해서만 접근하도록 하해서 자원을 보호함
- 만약 응용프로그램이 하드웨어 자원들에(CPU, 메모리, HDD) 직접 접근이 가능해지면 자원이 무질서해지고 컴퓨터 전체에 악영향을 미칠 수 있음

### User Mode(사용자 모드)
- 운영체제 서비스를 제공받을 수 없음
- 일반적인 응용프로그램은 기본적으로 사용자 모드로 실행함
- 사용자 모드로 실행중인 CPU는 입출력 명령어와 같이 하드웨어 자원에 접근하는 명령어를 실행할 수 없음

### Kernel Mode(커널 모드)
- 운영체제 서비스를 제공받을 수 있으며, 커널 영역의 코드를 실행할 수 있음
- CPU가 커널 모드로 명령어를 실행하면 자원에 접근하는 명령어를 비롯한 모든 명령어를 실행할 수 있음

![]({{site.url}}/images/SystemCall.png)

### System Call(시스템 호출, 소프트웨어적인 인터럽트)
- 사용자 모드로 실행되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받으려면 운영체제에 요청을 보내 커널 모드로 전환해야함
- 이 때 운영체제 서비스를 제공받기 위한 요청을 시스템 호출이라고 함

### CPU가 시스템 호출을 처리하는 과정
- 인터럽트를 처리하는 과정과 유사
- 일반적으로 응용 프로그램은 실행 과정에서 운영체제 서비스들을 매우 빈번하게 이용함
1. 시스템 호출이 발생하면 CPU는 지금까지의 작업을 백업하고
2. 커널 영역 내의 시스템 호출을 수행하는 코드(인터럽트 서비스 루틴)를 실행한 뒤
3. 다시 기존에 실행하던 응용프로그램에 복귀하여 실행을 계속해 나감

## Reference
[혼자 공부하는 컴퓨터구조]()

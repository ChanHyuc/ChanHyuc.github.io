---
title: "운영체제"
categories: OS
---
- 모든 프로그램은 하드웨어를 필요로 함
- OS(OperatingSystem): 실행할 프로그램에 필요한 자원을 할당하고 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램
- OS도 프로그램이기 떄문에 메모리에 적재되어야 함
- 하지만 특별한 프로그램이기 때문에 항상 컴퓨터가 부팅될 때 메모리 내 Kernel Space(커널 영역)이라는 공간에 적재되 실행
- 커널 영역을 제외한 나머지 영역을 User Space(사용자 영역)
- 운영체제는 실행할 프로그램을 메모리에 적재하고 더 이상 실행하지 않는 프로그램을 메모리에서 삭제함
- 응용프로그램이 올바르게 실행되도록 관리함 지속적으로 메모리 자원을 관리함
- OS가 없다면 하드웨어를 조작하는 코드 까지 개발자가 모두 직접 작성해야함

- OS는 하드웨어 상태가 어떤지, 코드가 어떻게 실행되었는지, 하드웨어 상에 어떤 문제가 있는지 상세히 알려줄 수 있음
- 이를 통해서 문제 해결의 단서를 찾을 수 있음
- 실제 접하게 되는 컴퓨터의 대다수의 오류 메시지의 근원은 OS

## Kernel
- 자원에 접근하고 조작하는 기능, 프로그램이 안전하게 실행되게 하는 기능, OS의 핵심 서비스를 담당
- OS가 설치된 모든 기기에는 Kernel이 있음 (마치 사람의 심장과도 같음)
- 어떤 커널을 사용하는지에 따라 실행하고 개발하는 프로그램이 하드웨어을 이용하는 양상이 달라지고 컴퓨터 전체 성능도 달라질 수 있음

- UI(User Interface, 사용자 인터페이스): 커널에 포함되지 않는 서비스이며 사용자가 컴퓨터와 상호작용할 수 있는 통로
- 사용자 인터페이스 종류로는 GUI(Graphical User Interface)와 CLI(Command Line Interface)가 있음

## Dual Mode(이중 모드)
- OS는 응용 프로그램이 하드웨어 자원(CPU, 메모리, HDD)에 직접 접근하는 것을 방지하여 보호함
- 만약 응용프로그램이 하드웨어 자원들에(CPU, 메모리, HDD) 직접 접근이 가능해지면 자원이 무질서해지고 컴퓨터 전체에 악영향을 미칠 수 있음
- CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식
- CPU는 사용자 모드인지 커널모드인지 플래그 레지스터 속 슈퍼바이저 플래그를 통해 알 수 있음

### User Mode(사용자 모드)
- OS 서비스를 제공받을 수 없음
- 일반적인 응용프로그램은 기본적으로 사용자 모드로 실행
- 사용자 모드로 실행중인 CPU는 입출력 명령어와 같이 하드웨어 자원에 접근하는 명령어를 실행할 수 없음

### Kernel Mode(커널 모드)
- OS 서비스를 제공받을 수 있으며, 커널 영역의 코드를 실행할 수 있음
- CPU가 커널 모드로 명령어를 실행하면 자원에 접근하는 명령어를 비롯한 모든 명령어를 실행할 수 있음

## System Call(시스템 호출)
- 사용자 모드로 실행되는 프로그램이 자원에 접근하는 OS 서비스를 제공받으려면 OS에 요청을 보내 커널 모드로 전환해야함
- 이 때 운영체제 서비스를 제공받기 위한 요청을 시스템 호출이라고 함
- 소프트웨어적인 인터럽트

### CPU가 시스템 호출을 처리하는 과정
- 인터럽트를 처리하는 과정과 유사
1. 시스템 호출이 발생하면 CPU는 지금까지의 작업을 백업하고
2. 커널 영역 내의 시스템 호출을 수행하는 코드(인터럽트 서비스 루틴)를 실행한 뒤
3. 다시 기존에 실행하던 응용프로그램에 복귀하여 실행을 계속해 나감
- 일반적으로 응용 프로그램은 실행 과정에서 OS 서비스들을 매우 빈번하게 이용함
- 즉 빈번하게 시스템 호출을 발생시키면서 사용자 모드와 커널 모드를 번갈아 가면서 응용 프로그램이 실행 됨

## 운영체제의 핵심 서비스

### 프로세스 관리
- 실행 중인 프로그램을 Process라고 함
- 일반적으로 하나의 CPU는 한 번에 하나의 프로세스만 실행할 수 있음
- 때문에 CPU는 여러개의 프로세스가 실행될 경우 조금씩 번갈하 가면서 실행함 
- 프로세스의 상태도가 다름 (당장 실행할 수 있는 프로세스가 있을 수 있고, 당장 실행이 불가능한 프로세스도 있음)
- 사용하고자 하는 자원이 다름(입출력장치를 자주 사용해야하는 프로세스가 있을 수 있고, 입출력장치는 사용하지 않고 CPU만 사용하는 프로세스도 있음)
- OS는 다양한 프로세스를 관리하고 실행할 수 있어야 함 

### 자원 접근 및 할당
- CPU: 하나의 프로세스가 CPU를 이용하고 있다면 다른 프로세스는 기다려야 함, CPU 스케줄링
- 메모리:
- 입출력장치:

### 파일 시스템 관리


## Reference
[혼자 공부하는 컴퓨터구조]()
